{"version":3,"file":"static/js/246.74c7a0c5.chunk.js","mappings":"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","sources":["components/filmList/FilmList.styled.js","components/filmList/FilmList.js","pages/movies/Movies.styled.js","pages/searchMoviesList/SearchMovies.styled.js","pages/searchMoviesList/SearchMovies.js","pages/movies/Movies.js"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const ListSection = styled.section`\n  padding-bottom: 50px;\n`;\n\nexport const Item = styled.li`\n  width: 100%;\n  border-radius: 5px;\n  transition-property: box-shadow, transform;\n  transition-duration: 200ms;\n  transition-timing-function: cubic-bezier(0.075, 0.82, 0.165, 1);\n  &:hover,\n  &:focus {\n    cursor: pointer;\n    transform: scale(1.03);\n    box-shadow: 0 0 20px -1px orange;\n  }\n`;\n\nexport const ImageGalleryItemimage = styled.img`\n  width: 100%;\n  object-fit: cover;\n`;\n\nexport const FilmName = styled.p`\n  margin: 10px 0 5px 5px;\n`;\n\nexport const Link = styled(NavLink)`\n  color: black;\n  text-decoration: none;\n`;\n\nexport const List = styled.ul`\n  display: grid;\n  padding: 0;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  gap: 20px;\n  list-style: none;\n  @media screen and (max-width: 1200px) {\n    grid-template-columns: 1fr 1fr 1fr;\n  }\n`;\n","import { useLocation } from 'react-router-dom';\nimport {\n  List,\n  FilmName,\n  Link,\n  Item,\n  ImageGalleryItemimage,\n  ListSection,\n} from './FilmList.styled';\n\nexport const FilmList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ListSection>\n      <List>\n        {movies.map(({ poster_path, id, name, title }) => (\n          <Item key={id}>\n            <Link to={`/movies/${id}`} state={{ from: location }}>\n              <ImageGalleryItemimage\n                src={\n                  poster_path\n                    ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n                    : 'https://ik.imagekit.io/tc8jxffbcvf/default-movie-portrait_EmJUj9Tda5wa.jpg?tr=fo-auto,di-'\n                }\n                alt={name}\n              />\n              <FilmName>{title ? title : name}</FilmName>\n            </Link>\n          </Item>\n        ))}\n      </List>\n    </ListSection>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Footer = styled.footer`\n  padding: 8px 0;\n  margin-bottom: 16px;\n  border-top: 1px solid black;\n`;\n","import styled from 'styled-components';\n\nexport const InputSection = styled.section`\n  padding: 10px 0 20px 0;\n`;\n\nexport const SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nexport const SearchFormButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0px;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n\n  svg {\n    width: 25px;\n    height: 25px;\n  }\n\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport const Input = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: 1px;\n  outline: none;\n  padding-left: 10px;\n  padding-right: 10px;\n\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","import {\n  SearchForm,\n  SearchFormButton,\n  Input,\n  InputSection,\n} from './SearchMovies.styled';\nimport { FiSearch } from 'react-icons/fi';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { useState } from 'react';\n\nexport const SearchMovies = ({ onSubmit, value }) => {\n  const [query, setQuery] = useState('');\n  const handelFormChange = event => {\n    setQuery(event.currentTarget.value.toLowerCase());\n  };\n\n  const handelSubmit = e => {\n    e.preventDefault();\n    if (query.trim() === '') {\n      toast.error('Enter movie title');\n    }\n    onSubmit(query);\n    setQuery('');\n  };\n  return (\n    <InputSection>\n      <SearchForm onSubmit={handelSubmit}>\n        <Input\n          defaultValue={value}\n          type=\"text\"\n          placeholder=\"Search films\"\n          onChange={handelFormChange}\n        />\n        <SearchFormButton type=\"submit\">\n          <FiSearch width=\"50px\" />\n        </SearchFormButton>\n      </SearchForm>\n      <ToastContainer autoClose={2000} position=\"top-right\" />\n    </InputSection>\n  );\n};\n","import { Footer } from './Movies.styled';\nimport { useState, useEffect } from 'react';\nimport { getMoviesbyQuery } from 'helpers/api';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { SearchMovies } from '../searchMoviesList/SearchMovies';\nimport { FilmList } from 'components/filmList/FilmList';\nimport { useSearchParams } from 'react-router-dom';\nimport { Loadder } from 'helpers/Loadder';\n\nconst ERROR_MESSAGE = 'Произошла ошыбка';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query') ?? '';\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // const updateQueryString = name => {\n  //   const nextParams = name !== '' ? { name } : {};\n  //   setSearchParams(nextParams);\n  // };\n\n  // const handlelFormSubmit = query => {\n  //   setQuery(query);\n  //   setError(null);\n  //   setMovies([]);\n  //   updateQueryString();\n  // };\n\n  const onSubmit = value => {\n    setSearchParams(value !== '' ? { query: value } : {});\n  };\n\n  useEffect(() => {\n    if (searchQuery === '') {\n      return;\n    }\n    async function getFilm() {\n      try {\n        setIsLoading(true);\n        const movies = await getMoviesbyQuery(searchQuery);\n\n        if (movies.length === 0) {\n          toast.error(\n            'Sorry, there are no films matching your search query. Please try again.'\n          );\n          return;\n        }\n        setMovies(movies);\n      } catch (error) {\n        console.log(error);\n        setError(ERROR_MESSAGE);\n        setMovies([]);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    getFilm();\n  }, [searchQuery]);\n\n  return (\n    <>\n      <SearchMovies onSubmit={onSubmit} value={searchQuery} />\n      {isLoading && <Loadder />}\n      {error && <p>{error}</p>}\n      {searchQuery && !isLoading && <FilmList movies={movies} />}\n      {searchQuery && !isLoading && <Footer>Footer</Footer>}\n      <ToastContainer autoClose={2000} position=\"top-right\" />\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["ListSection","styled","Item","ImageGalleryItemimage","FilmName","Link","NavLink","List","FilmList","movies","location","useLocation","map","poster_path","id","name","title","to","state","from","src","alt","Footer","InputSection","SearchForm","SearchFormButton","Input","SearchMovies","onSubmit","value","useState","query","setQuery","e","preventDefault","trim","toast","defaultValue","type","placeholder","onChange","event","currentTarget","toLowerCase","width","autoClose","position","ERROR_MESSAGE","useSearchParams","searchParams","setSearchParams","searchQuery","get","setMovies","error","setError","isLoading","setIsLoading","useEffect","getMoviesbyQuery","length","console","log","getFilm","Loadder"],"sourceRoot":""}